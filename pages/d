import streamlit as st

# --- Step 1ï¼šå®šç¾©åˆå§‹èœå–® ---
# å…ˆå¾ session_state æŠ“ menuï¼Œå¦å‰‡ç”¨ç©ºæ¸…å–®
if "menu" not in st.session_state:
    st.session_state.menu = []

# --- Step 2ï¼šæ–°å¢é¤é»åŠŸèƒ½ ---
text_input = st.text_input("ğŸ”¤ æ–°å¢é¤é»", placeholder="è¼¸å…¥é¤é»åç¨±")
if text_input:
    if text_input not in st.session_state.menu:
        st.session_state.menu.append(text_input)
        st.session_state[text_input] = 0
    else:
        st.warning("é€™é“é¤é»å·²ç¶“åŠ éå›‰ï¼")

# --- Step 3ï¼šæ¨™é¡Œ ---
st.title("ğŸ½ï¸ é»é¤æ©Ÿï¼ˆåŠ å…¥ / åˆªé™¤ / è‡ªè¨‚èœå–®ï¼‰")

# --- Step 4ï¼šæ¸…ç©ºé»é¤ ---
if st.button("ğŸ” æ¸…ç©ºé»é¤"):
    for item in st.session_state.menu:
        st.session_state[item] = 0
    st.rerun()

# --- Step 5ï¼šé¡¯ç¤ºèœå–®èˆ‡æŒ‰éˆ• ---
for item in st.session_state.menu:
    col1, col2, col3 = st.columns([2, 1, 1])
    with col1:
        st.write(f"**{item}** x {st.session_state[item]}")
    with col2:
        if st.button("â• åŠ å…¥", key=f"add_{item}"):
            st.session_state[item] += 1
    with col3:
        if st.button("â– åˆªé™¤", key=f"remove_{item}"):
            if st.session_state[item] > 0:
                st.session_state[item] -= 1

# --- Step 6ï¼šé¡¯ç¤ºè³¼ç‰©æ¸…å–® ---
st.write("---")
st.subheader("ğŸ›ï¸ è³¼ç‰©æ¸…å–®")

has_order = False
for item in st.session_state.menu:
    count = st.session_state[item]
    if count > 0:
        st.write(f"{item} x {count}")
        has_order = True

if not has_order:
    st.info("ä½ é‚„æ²’é»ä»»ä½•æ±è¥¿å–”ï½")
